<plugin>
    <groupId>org.apache.sling</groupId>
    <artifactId>slingstart-maven-plugin</artifactId>
    <version>1.7.16</version>
    <extensions>true</extensions>
    <executions>
        <execution>
            <id>default-prepare-package</id>
            <phase>prepare-package</phase>
            <goals>
                <goal>prepare-package</goal>
            </goals>
            <configuration>
                <model>[feature name=sling]
                    # Dependencies
                    [artifacts]
                    org.apache.sling/org.apache.sling.starter/12-SNAPSHOT/slingstart</model>
                <usePomDependencies>true</usePomDependencies>
                <servers>
                    <server>
                        <port>${http.port}</port>
                        <controlPort>${sling.control.port}</controlPort>
                        <runmode>oak_tar</runmode>
                        <contextPath />
                        <debug />
                    </server>
                </servers>
            </configuration>
        </execution>
        <execution>
            <id>default-attach-slingfeature</id>
            <phase>package</phase>
            <goals>
                <goal>attach-slingfeature</goal>
            </goals>
            <configuration>
                <model>[feature name=sling]
                    # Dependencies
                    [artifacts]
                    org.apache.sling/org.apache.sling.starter/12-SNAPSHOT/slingstart</model>
                <usePomDependencies>true</usePomDependencies>
                <servers>
                    <server>
                        <port>${http.port}</port>
                        <controlPort>${sling.control.port}</controlPort>
                        <runmode>oak_tar</runmode>
                        <contextPath />
                        <debug />
                    </server>
                </servers>
            </configuration>
        </execution>
        <execution>
            <id>default-package</id>
            <phase>package</phase>
            <goals>
                <goal>package</goal>
            </goals>
            <configuration>
                <model>[feature name=sling]
                    # Dependencies
                    [artifacts]
                    org.apache.sling/org.apache.sling.starter/12-SNAPSHOT/slingstart</model>
                <usePomDependencies>true</usePomDependencies>
                <servers>
                    <server>
                        <port>${http.port}</port>
                        <controlPort>${sling.control.port}</controlPort>
                        <runmode>oak_tar</runmode>
                        <contextPath />
                        <debug />
                    </server>
                </servers>
            </configuration>
        </execution>
        <execution>
            <id>start-container</id>
            <goals>
                <goal>start</goal>
                <goal>stop</goal>
            </goals>
            <configuration>
                <model>[feature name=sling]
                    # Dependencies
                    [artifacts]
                    org.apache.sling/org.apache.sling.starter/12-SNAPSHOT/slingstart</model>
                <usePomDependencies>true</usePomDependencies>
                <servers>
                    <server>
                        <port>${http.port}</port>
                        <controlPort>${sling.control.port}</controlPort>
                        <runmode>oak_tar</runmode>
                        <contextPath />
                        <debug />
                    </server>
                </servers>
            </configuration>
        </execution>
    </executions>
    <configuration>
        <model>[feature name=sling]
            # Dependencies
            [artifacts]
            org.apache.sling/org.apache.sling.starter/12-SNAPSHOT/slingstart</model>
        <usePomDependencies>true</usePomDependencies>
        <servers>
            <server>
                <port>${http.port}</port>
                <controlPort>${sling.control.port}</controlPort>
                <runmode>oak_tar</runmode>
                <contextPath />
                <debug />
            </server>
        </servers>
    </configuration>
</plugin>
